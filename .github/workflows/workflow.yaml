name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - name: kustomize output
        id: kbuild
        continue-on-error: true
        run: |
          mkdir kustomize-output
          touch ./kustomize-output/file1.txt
          touch ./kustomize-output/file2.txt

      - name: Upload manifest
        if: ${{ !cancelled() steps.kbuild.outcome == 'success' }}
        continue-on-error: true
        uses: actions/upload-artifact@v4
        with:
          name: k8s-manifest
          retention-days: 90
          path: |
            ./kustomize-outputname: Make a release and upload zip
on:
  push:
    branches:
      - main
  workflow_dispatch:
jobs:
  release:
    name: Make a release and upload the zip to it
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          repository: 'umair-fayaz/example-image'
      - run: ls
      - run: cp Dockerfile /tmp/
      - run: ls /tmp
      - uses: actions/checkout@v3
      - run: ls 
      - run: cp /tmp/Dockerfile .
      - run: ls 
